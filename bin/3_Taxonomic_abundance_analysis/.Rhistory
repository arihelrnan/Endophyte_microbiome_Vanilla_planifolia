#Load programs
packages <-c("metacoder")
lib <- lapply(packages, require, character.only = TRUE)
#Load tab delimited file with OTU table information
otu_table <-  read.table ("../../Data/binary_table_16S.txt",
check.names = FALSE,
header = TRUE,
dec = ".",
sep = "\t",
row.names = 1,
comment.char = "")
#Load tab delimited file with information of each sample
sample_table <-  read.table ("../../Data/mapping_file.txt",
check.names = FALSE,
header = TRUE,
dec = ".",
sep = "\t",
comment.char = "")
#Make taxmap object
metamapa <- parse_tax_data(otu_table, #Make taxmap object.
class_cols = "taxonomy", # the column that contains taxonomic information
class_sep = ";", # The character used to separate taxa in the classification
class_regex = "^([a-z]{0,1})__{0,2}(.*)$", # Regex identifying where the data for each taxon is
class_key = c("tax_rank" = "taxon_rank", "name" = "taxon_name"))
